This code implements the Floyd-Warshall algorithm for finding the shortest paths between all pairs of vertices in a weighted graph. It takes an adjacency matrix of weights and the number of vertices as input, and then calculates the shortest path distances and the next vertices in the shortest paths. The results are then printed out, showing the shortest distances and the paths between each pair of vertices.